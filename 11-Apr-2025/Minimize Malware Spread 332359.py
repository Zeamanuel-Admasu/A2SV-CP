# Problem: Minimize Malware Spread - https://leetcode.com/problems/minimize-malware-spread/

class Solution:
    def minMalwareSpread(self, graph: List[List[int]], initial: List[int]) -> int:
        n = len(graph)

        def dfs(node):
            infected.add(node)
            for nbour in range(n):
                if graph[node][nbour] == 1 and nbour not in infected:
                    dfs(nbour)

                    
        minim_infection = n
        infection_rate = dict()
        for removed in initial:
            infected = set()
            for node in initial:
                if node == removed:
                    continue 
                dfs(node)
            num_infected = len(infected)
            infection_rate[removed] = num_infected
            minim_infection = min(minim_infection, num_infected)
        initial.sort()
        for node in initial:
            if infection_rate[node] == minim_infection:
                return node
        